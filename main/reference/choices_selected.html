<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Choices selected — choices_selected • teal.transform</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Choices selected — choices_selected"><meta name="description" content="
Construct a single list containing available choices, the default selected value, and
additional settings such as to order the choices with the selected elements appearing first
or whether to block the user from making selections.
Can be used in UI input elements such as teal.widgets::optionalSelectInput()."><meta property="og:description" content="
Construct a single list containing available choices, the default selected value, and
additional settings such as to order the choices with the selected elements appearing first
or whether to block the user from making selections.
Can be used in UI input elements such as teal.widgets::optionalSelectInput()."><link rel="stylesheet" href="../consent.css"><script src="../consent.js" type="text/javascript" charset="utf-8"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">teal.transform</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0.9021</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/teal-transform.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data-extract-merge.html">Combining Data Extract with Data Merge</a></li>
    <li><a class="dropdown-item" href="../articles/data-extract.html">Data Extract</a></li>
    <li><a class="dropdown-item" href="../articles/data-merge.html">Data Merge</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports"><li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report-non-cran/">Non-CRAN unit test report</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/teal.transform"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Choices selected</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/teal.transform/blob/main/R/choices_selected.R" class="external-link"><code>R/choices_selected.R</code></a></small>
      <div class="d-none name"><code>choices_selected.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
<p>Construct a single list containing available choices, the default selected value, and
additional settings such as to order the choices with the selected elements appearing first
or whether to block the user from making selections.</p>
<p>Can be used in UI input elements such as <code><a href="https://insightsengineering.github.io/teal.widgets/latest-tag/reference/optionalSelectInput.html" class="external-link">teal.widgets::optionalSelectInput()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">choices_selected</span><span class="op">(</span></span>
<span>  <span class="va">choices</span>,</span>
<span>  selected <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">inherits</a></span><span class="op">(</span><span class="va">choices</span>, <span class="st">"delayed_data"</span><span class="op">)</span><span class="op">)</span> <span class="cn">NULL</span> <span class="kw">else</span> <span class="va">choices</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  keep_order <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fixed <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is.choices_selected</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-choices">choices<a class="anchor" aria-label="anchor" href="#arg-choices"></a></dt>
<dd><p>(<code>character</code>) vector of possible choices or <code>delayed_data</code> object.</p>
<p>See <code><a href="variable_choices.html">variable_choices()</a></code> and <code><a href="value_choices.html">value_choices()</a></code>.</p></dd>


<dt id="arg-selected">selected<a class="anchor" aria-label="anchor" href="#arg-selected"></a></dt>
<dd><p>(<code>character</code>) vector of preselected options, (<code>delayed_choices</code>) object
or (<code>delayed_data</code>) object.</p>
<p>If <code>delayed_data</code> object then <code>choices</code> must also be <code>delayed_data</code> object.
If not supplied it will default to the first element of <code>choices</code> if
<code>choices</code> is a vector, or <code>NULL</code> if <code>choices</code> is a <code>delayed_data</code> object.</p></dd>


<dt id="arg-keep-order">keep_order<a class="anchor" aria-label="anchor" href="#arg-keep-order"></a></dt>
<dd><p>(<code>logical</code>) In case of <code>FALSE</code> the selected variables will
be on top of the drop-down field.</p></dd>


<dt id="arg-fixed">fixed<a class="anchor" aria-label="anchor" href="#arg-fixed"></a></dt>
<dd><p>(<code>logical</code>) optional, whether to block user to select choices.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>(<code>choices_selected</code>) object to check.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>choices_selected</code> returns list of <code>choices_selected</code>, encapsulating the specified
<code>choices</code>, <code>selected</code>, <code>keep_order</code> and <code>fixed</code>.</p>
<p><code>is.choices_selected</code> returns <code>TRUE</code> if <code>x</code> inherits from a <code>choices_selected</code> object, <code>FALSE</code> otherwise.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Please note that the order of selected will always follow the order of choices. The <code>keep_order</code>
argument is set to false which will run the following code inside:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>choices <span class="ot">&lt;-</span> <span class="fu">c</span>(selected, <span class="fu">setdiff</span>(choices, selected))</span></code></pre><p></p></div>
<p>In case you want to keep your specific order of choices, set <code>keep_order</code> to <code>TRUE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>is.choices_selected()</code>: Check if an object is a choices_selected class</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/teal.widgets/" class="external-link">teal.widgets</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ADSL</span> <span class="op">&lt;-</span> <span class="fu">teal.data</span><span class="fu">::</span><span class="va"><a href="https://insightsengineering.github.io/teal.data/latest-tag/reference/rADSL.html" class="external-link">rADSL</a></span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span><span class="fu"><a href="variable_choices.html">variable_choices</a></span><span class="op">(</span><span class="va">ADSL</span><span class="op">)</span>, <span class="st">"SEX"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> number of choices: 55 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SEX: Sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> STUDYID: Study Identifier</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> USUBJID: Unique Subject Identifier</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SUBJID: Subject Identifier for the Study</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SITEID: Study Site Identifier</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AGE: Age</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AGEU: Age Units</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RACE: Race</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ETHNIC: Ethnicity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> COUNTRY: Country</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DTHFL: Subject Death Flag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INVID: Investigator Identifier</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INVNAM: Investigator Name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ARM: Description of Planned Arm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ARMCD: Planned Arm Code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ACTARM: Description of Actual Arm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ACTARMCD: Actual Arm Code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRT01P: Planned Treatment for Period 01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRT01A: Actual Treatment for Period 01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRT02P: Planned Treatment for Period 02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRT02A: Actual Treatment for Period 02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> REGION1: Geographic Region 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> STRATA1: Stratification Factor 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> STRATA2: Stratification Factor 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BMRKR1: Continuous Level Biomarker 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BMRKR2: Categorical Level Biomarker 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ITTFL: Intent-To-Treat Population Flag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SAFFL: Safety Population Flag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BMEASIFL: Response Evaluable Population Flag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BEP01FL: Biomarker Evaluable Population Flag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AEWITHFL: AE Leading to Drug Withdrawal Flag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RANDDT: Date of Randomization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRTSDTM: Datetime of First Exposure to Treatment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRTEDTM: Datetime of Last Exposure to Treatment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRT01SDTM: Datetime of First Exposure to Treatment in Period 01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRT01EDTM: Datetime of Last Exposure in Period 01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRT02SDTM: Datetime of First Exposure to Treatment in Period 02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRT02EDTM: Datetime of Last Exposure to Treatment in Period 02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AP01SDTM: Period 01 Start Datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AP01EDTM: Period 01 End Datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AP02SDTM: Period 02 Start Datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AP02EDTM: Period 02 End Datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> EOSSTT: End of Study Status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> EOTSTT: End of Treatment Status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> EOSDT: End of Study Date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> EOSDY: End of Study Relative Day</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DCSREAS: Reason for Discontinuation from Study</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DTHDT: Date of Death</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DTHCAUS: Cause of Death</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DTHCAT: Cause of Death Category</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LDDTHELD: Elapsed Days from Last Dose to Death</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LDDTHGR1: Last Dose to Death - Days Elapsed Grp 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LSTALVDT: Date Last Known Alive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DTHADY: Relative Day of Death</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADTHAUT: Autopsy Performed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "SEX"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># How to select nothing</span></span></span>
<span class="r-in"><span><span class="co"># use an empty character</span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span></span></span>
<span class="r-in"><span>  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  selected <span class="op">=</span> <span class="st">""</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] ""  "A" "B" "C"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># How to allow the user to select nothing</span></span></span>
<span class="r-in"><span><span class="co"># use an empty character</span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span></span></span>
<span class="r-in"><span>  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">""</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  selected <span class="op">=</span> <span class="st">"A"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "A" ""  "B" "C"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "A"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># How to make Nothing the Xth choice</span></span></span>
<span class="r-in"><span><span class="co"># just use keep_order</span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span></span></span>
<span class="r-in"><span>  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">""</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  selected <span class="op">=</span> <span class="st">"A"</span>,</span></span>
<span class="r-in"><span>  keep_order <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "A" ""  "B" "C"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "A"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># How to give labels to selections</span></span></span>
<span class="r-in"><span><span class="co"># by adding names - choices will be replaced by "name" in UI, not in code</span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span></span></span>
<span class="r-in"><span>  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name for A"</span> <span class="op">=</span> <span class="st">"A"</span>, <span class="st">"Name for nothing"</span> <span class="op">=</span> <span class="st">""</span>, <span class="st">"name for b"</span> <span class="op">=</span> <span class="st">"B"</span>, <span class="st">"name for C"</span> <span class="op">=</span> <span class="st">"C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  selected <span class="op">=</span> <span class="st">"A"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       name for A Name for nothing       name for b       name for C </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              "A"               ""              "B"              "C" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "A"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># by using choices_labeled</span></span></span>
<span class="r-in"><span><span class="co"># labels will be shown behind the choice</span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span></span></span>
<span class="r-in"><span>  choices <span class="op">=</span> <span class="fu"><a href="choices_labeled.html">choices_labeled</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">""</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name for A"</span>, <span class="st">"nothing"</span>, <span class="st">"name for B"</span>, <span class="st">"name for C"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  selected <span class="op">=</span> <span class="st">"A"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> number of choices: 4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A: name for A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> : nothing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B: name for B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C: name for C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "A"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Passing a `delayed_data` object to `selected`</span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span></span></span>
<span class="r-in"><span>  choices <span class="op">=</span> <span class="fu"><a href="variable_choices.html">variable_choices</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  selected <span class="op">=</span> <span class="fu"><a href="variable_choices.html">variable_choices</a></span><span class="op">(</span><span class="st">"ADSL"</span>, subset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"STUDYID"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> choices_selected with delayed data:  ADSL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   variable_choices with delayed data: ADSL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $ data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "ADSL"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $ subset</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $ key</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   variable_choices with delayed data: ADSL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $ data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "ADSL"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $ subset</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "STUDYID"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $ key</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ keep_order</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Passing `delayed_choices` object - semantically identical objects:</span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span>choices <span class="op">=</span> <span class="va">letters</span>, selected <span class="op">=</span> <span class="va">letters</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] "t" "u" "v" "w" "x" "y" "z"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] "t" "u" "v" "w" "x" "y" "z"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span>choices <span class="op">=</span> <span class="va">letters</span>, selected <span class="op">=</span> <span class="fu"><a href="delayed_choices.html">all_choices</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] "t" "u" "v" "w" "x" "y" "z"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] "t" "u" "v" "w" "x" "y" "z"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span></span></span>
<span class="r-in"><span>  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Letter"</span>, <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  selected <span class="op">=</span> <span class="st">"E"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Letter E Letter A Letter B Letter C Letter D </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      "E"      "A"      "B"      "C"      "D" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "E"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span></span></span>
<span class="r-in"><span>  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Letter"</span>, <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  selected <span class="op">=</span> <span class="fu"><a href="delayed_choices.html">last_choice</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Letter E Letter A Letter B Letter C Letter D </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      "E"      "A"      "B"      "C"      "D" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Letter E </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      "E" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "choices_selected"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># functional form (subsetting for factor variables only) of choices_selected</span></span></span>
<span class="r-in"><span><span class="co"># with delayed data loading</span></span></span>
<span class="r-in"><span><span class="fu">choices_selected</span><span class="op">(</span><span class="fu"><a href="variable_choices.html">variable_choices</a></span><span class="op">(</span><span class="st">"ADSL"</span>, subset <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">is.factor</span>, <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> choices_selected with delayed data:  ADSL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ choices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   variable_choices with delayed data: ADSL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $ data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "ADSL"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $ subset</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   function (data) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     idx &lt;- vapply(data, is.factor, logical(1))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     names(data)[idx]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x556b74d7eeb0&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $ key</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ selected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ keep_order</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cs</span> <span class="op">&lt;-</span> <span class="fu">choices_selected</span><span class="op">(</span></span></span>
<span class="r-in"><span>  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  selected <span class="op">=</span> <span class="st">"A"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://insightsengineering.github.io/teal.widgets/latest-tag/reference/optionalSelectInput.html" class="external-link">optionalSelectInput</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    inputId <span class="op">=</span> <span class="st">"id"</span>,</span></span>
<span class="r-in"><span>    choices <span class="op">=</span> <span class="va">cs</span><span class="op">$</span><span class="va">choices</span>,</span></span>
<span class="r-in"><span>    selected <span class="op">=</span> <span class="va">cs</span><span class="op">$</span><span class="va">selected</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="nest">
  <p>teal.transform is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer></div>





  </body></html>

